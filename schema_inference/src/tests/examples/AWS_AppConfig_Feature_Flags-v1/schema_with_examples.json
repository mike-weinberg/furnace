{
  "schema": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://json.schemastore.org/aws-cdk-appconfig-featureflags-1.0.0.json",
    "allOf": [
      {
        "$ref": "#/definitions/flagSetDefinition"
      }
    ],
    "definitions": {
      "flagSetDefinition": {
        "type": "object",
        "properties": {
          "version": {
            "$ref": "#/definitions/flagSchemaVersions"
          },
          "flags": {
            "$ref": "#/definitions/flagDefinitions"
          },
          "values": {
            "$ref": "#/definitions/flagValues"
          }
        },
        "required": [
          "version",
          "flags",
          "values"
        ],
        "additionalProperties": false
      },
      "flagDefinitions": {
        "type": "object",
        "patternProperties": {
          "^[^\\n]{1,64}$": {
            "$ref": "#/definitions/flagDefinition"
          }
        },
        "maxProperties": 25,
        "additionalProperties": false
      },
      "flagDefinition": {
        "type": "object",
        "properties": {
          "name": {
            "$ref": "#/definitions/customerDefinedName"
          },
          "description": {
            "$ref": "#/definitions/customerDefinedDescription"
          },
          "_createdAt": {
            "type": "string"
          },
          "_updatedAt": {
            "type": "string"
          },
          "_deprecation": {
            "type": "object",
            "properties": {
              "status": {
                "const": "planned"
              },
              "date": {
                "type": "string",
                "format": "date"
              }
            },
            "additionalProperties": false
          },
          "attributes": {
            "$ref": "#/definitions/attributeDefinitions"
          }
        },
        "required": [
          "attributes"
        ],
        "additionalProperties": false
      },
      "attributeDefinitions": {
        "type": "object",
        "patternProperties": {
          "^[^\\n]{1,64}$": {
            "$ref": "#/definitions/attributeDefinition"
          }
        },
        "maxProperties": 25,
        "additionalProperties": false
      },
      "attributeDefinition": {
        "type": "object",
        "properties": {
          "description": {
            "$ref": "#/definitions/customerDefinedDescription"
          },
          "constraints": {
            "oneOf": [
              {
                "$ref": "#/definitions/numberConstraints"
              },
              {
                "$ref": "#/definitions/stringConstraints"
              },
              {
                "$ref": "#/definitions/arrayConstraints"
              },
              {
                "$ref": "#/definitions/boolConstraints"
              }
            ]
          }
        },
        "required": [
          "constraints"
        ],
        "additionalProperties": false
      },
      "flagValues": {
        "type": "object",
        "patternProperties": {
          "^[^\\n]{1,64}$": {
            "$ref": "#/definitions/flagValue"
          }
        },
        "maxProperties": 25,
        "additionalProperties": false
      },
      "flagValue": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "_createdAt": {
            "type": "string"
          },
          "_updatedAt": {
            "type": "string"
          },
          "_variants": {
            "type": "array",
            "uniqueItems": true,
            "maxItems": 32,
            "items": {
              "$ref": "#/definitions/variant"
            }
          }
        },
        "required": [
          "enabled",
          "_variants"
        ],
        "additionalProperties": false
      },
      "stringConstraints": {
        "type": "object",
        "properties": {
          "type": {
            "const": "string"
          },
          "required": {
            "type": "boolean"
          },
          "pattern": {
            "type": "string",
            "maxLength": 1024
          },
          "enum": {
            "type": "array",
            "maxItems": 100,
            "items": {
              "oneOf": [
                {
                  "type": "string",
                  "maxLength": 1024
                },
                {
                  "type": "integer"
                }
              ]
            }
          }
        },
        "required": [
          "type"
        ],
        "not": {
          "required": [
            "pattern",
            "enum"
          ],
          "properties": {
            "pattern": true,
            "enum": true
          }
        },
        "additionalProperties": false
      },
      "numberConstraints": {
        "type": "object",
        "properties": {
          "type": {
            "const": "number"
          },
          "required": {
            "type": "boolean"
          },
          "minimum": {
            "type": "integer"
          },
          "maximum": {
            "type": "integer"
          }
        },
        "required": [
          "type"
        ],
        "additionalProperties": false
      },
      "arrayConstraints": {
        "type": "object",
        "properties": {
          "type": {
            "const": "array"
          },
          "required": {
            "type": "boolean"
          },
          "elements": {
            "$ref": "#/definitions/elementConstraints"
          }
        },
        "required": [
          "type"
        ],
        "additionalProperties": false
      },
      "boolConstraints": {
        "type": "object",
        "properties": {
          "type": {
            "const": "boolean"
          },
          "required": {
            "type": "boolean"
          }
        },
        "required": [
          "type"
        ],
        "additionalProperties": false
      },
      "elementConstraints": {
        "oneOf": [
          {
            "$ref": "#/definitions/numberConstraints"
          },
          {
            "$ref": "#/definitions/stringConstraints"
          }
        ]
      },
      "variant": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "name": {
            "$ref": "#/definitions/customerDefinedName"
          },
          "rule": {
            "type": "string",
            "maxLength": 1024
          },
          "attributeValues": {
            "$ref": "#/definitions/attributeValue"
          }
        },
        "required": [
          "name",
          "enabled"
        ],
        "additionalProperties": false
      },
      "attributeValue": {
        "oneOf": [
          {
            "type": "string",
            "maxLength": 1024
          },
          {
            "type": "number"
          },
          {
            "type": "boolean"
          },
          {
            "type": "array",
            "items": {
              "oneOf": [
                {
                  "type": "string",
                  "maxLength": 1024
                },
                {
                  "type": "number"
                }
              ]
            }
          }
        ]
      },
      "customerDefinedName": {
        "type": "string",
        "pattern": "^[^\\n]{1,64}$"
      },
      "customerDefinedDescription": {
        "type": "string",
        "maxLength": 1024
      },
      "flagSchemaVersions": {
        "const": "1"
      }
    }
  },
  "examples": [
    3,
    36,
    true,
    "fvearhtUcMi",
    51,
    "CvFycz",
    null,
    44,
    false,
    83.85,
    "nwjad",
    null,
    43.89,
    25,
    null,
    47,
    null,
    8.46,
    "qYCu3X1Pl",
    true,
    null,
    false,
    true,
    false,
    39,
    14,
    true,
    12,
    37,
    "azvzgfbfarjvt",
    100,
    "ICKEGm",
    null,
    false,
    "fhkghvmcwfub",
    "ipsum adip",
    9.6,
    43.75,
    "R7wHxI0956d",
    null,
    76.94,
    false,
    "GPZC0",
    70.13,
    71,
    73.79,
    true,
    98,
    71.36,
    75,
    false,
    false,
    null,
    null,
    "kfvtsakigi",
    42.9,
    "jbmsrbmfazsjuu",
    false,
    45.95,
    null,
    67.63,
    true,
    25,
    null,
    true,
    61.98,
    71.53,
    "HgF7IGWB",
    true,
    92.11,
    false,
    83,
    56.27,
    "niwohxhi",
    null,
    18.14,
    31.22,
    "yrttcxq",
    null,
    27,
    null,
    34,
    "adipiscing lo",
    22.25,
    null,
    79,
    40.57,
    null,
    null,
    "chkxjpceso",
    true,
    false,
    true,
    "hhslavjgiipvwvh",
    null,
    23,
    38.19,
    88,
    3,
    null
  ]
}